# SensorControlGame
TCP 소켓, 멀티 쓰레드를 이용한 센서 제어 게임( 서버 + 다수의 클라이언트)

# 게임 설명
1. 다수의 클라이언트가 동시에 게임을 할 수 있다.
2. 클라이언트는 하나 이상의 센서를 가지고 있는데 센서는 2초마다 랜덤한 값을 발생한다.
3. 클라이언트의 화면에는 센서들의 정보를 볼 수 있다.
4. 센서는 서버에서 지정한 안전 범위를 벗어나면 전원이 차단되어 더 이상 랜덤한 값을 생성하지 못한다.
5. 클라이언트의 화면에는 안전 범위를 벗어난 센서들이 랜덤한 위치에 나타나게 된다.
6. 점수를 얻는 방법은 몬스터(C)를 방향키로 조작해서 차단된 센서의 위치로 가면 된다.
7. 몬스터가 차단딘 센서를 만나면 차단된 센서는 화면에서 사라지고 다시 전원이 켜진다.
8. 그리고 이 모든 정보는 서버에서 모니터링할 수 있다.


# 구현
[서버]
1. 센서의 각종 정보를 포함할 구조체 선언
2. 각 클라이언트별 N개의 센서를 저장할 3차원 배열 선언
3. 각 클라이언트와 연결을 위한 소켓 배열 선언
4. 각 클라이언트의 게임 점수를 저장할 배열 선언
5. 전역변수로 선언된 각 클라이언트의 개수의 데이터는 상호배제를 만족(뮤텍스 사용)
6. 쓰레드를 만들어서 각 클라이언트에 대해서 센서 정보, 게임 점수를 서로 통신
7. 출력 쓰레드를 만들어서 각 클라이언트의 로그 정보를 출력
----------------------------------------------------------------------
[클라이언트]
1. 센서의 각종 정보를 포함할 구조체 선언
2. 각 센서를 병행적으로 처리해야 하므로 센서를 위한 쓰레드 HANDLE 배열 선언
3. 각 센서는 2초마다 쓰레드를 이용해서 랜덤한 값을 발생시켜 서버에 전달한다.
4. 서버로부터 센서의 정보를 받아 해당 센서가 위험하면 랜덤한 위치에 해당 센서 출력
-> 랜덤한 값을 2초마다 발생시킬 때마다 출력
5. 몬스터 쓰레드를 만들어 방향키로 움직일 수 있도록한다.
6. 몬스터가 센서의 위치로 가면 전원 차단을 처리한 뒤 점수 갱신 후 서버에 전달

# 실행 화면

![g](https://user-images.githubusercontent.com/46406119/193070723-4dc6117c-ad52-4909-a374-26f812748f5a.png)


